/* =========================================
  ブースト！公式サイト 共通スタイル（v0.21 → refactor-keep-visual）
  目的: 可読性・保守性の向上（見た目と動作は変更しない）
  - セクション順の整理 / 記法の統一 / 重複の明確化（統合は外観維持のため最小限）
  - 変数（CSSカスタムプロパティ）の説明追記
   ========================================= */

/* ---------- CSS変数（配色・余白・幅） ---------- */
:root {
  /* 色 */
  --bg: #ffffff;                 /* 背景色 */
  --fg: #222222;                 /* 文字色 */
  --muted: #666666;              /* 補助テキスト色 */
  --primary: #1f6feb;            /* 既存アクセント色 */
  --primary-fg: #ffffff;         /* アクセント上の文字色 */
  --border: #e5e7eb;             /* 罫線色 */
  --card: #ffffff;               /* カード背景 */

  /* 影・角丸・幅 */
  --shadow: 0 2px 10px rgba(0,0,0,.06); /* カード影 */
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06); /* 小さめの影（pill等） */
  --radius: 10px;                /* 角丸 */
  --maxw: 960px;                 /* 本文最大幅 */

  /* 余白スケール */
  --space-1: .25rem;
  --space-2: .5rem;
  --space-3: .75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;

  /* Pillボタン強調（仕様 v0.22 で使用） */
  --brand: var(--primary);       /* Pill塗りつぶし色 */
  --brand-ink: #ffffff;          /* Pill上の文字色 */
}

/* ---------- ベースリセット（軽め） ---------- */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  color: var(--fg);
  background: var(--bg);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", "Meiryo", sans-serif;
  line-height: 1.7;
}
img { max-width: 100%; height: auto; vertical-align: middle; }
a { color: var(--primary); text-decoration: none; }
a:hover { text-decoration: underline; }

/* 共通レイアウト：ページ要素の幅制限 */
nav.navbar,
section,
header.hero {
  width: min(100%, var(--maxw));
  margin-inline: auto;
  padding-inline: var(--space-4);
}

/* ---------- ナビゲーション ---------- */
.navbar {
  position: sticky; top: 0; z-index: 20;
  background: #f8fafc;
  border-bottom: 1px solid var(--border);
}
.navbar ul {
  margin: 0; padding: var(--space-2) var(--space-4);
  display: flex; flex-wrap: wrap; gap: var(--space-2);
  list-style: none;
}
.navbar a {
  display: inline-block;
  padding: .4rem .6rem;
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--fg);
  background: #fff;
  text-decoration: none;
  font-size: .95rem;
}
.navbar a:hover { background: #f3f4f6; }

/* ---------- ヒーロー（開催概要） ---------- */
.hero { padding-block: var(--space-6); }
.hero h1 {
  margin: 0 0 var(--space-2);
  font-size: clamp(1.6rem, 2.5vw + 1rem, 2.2rem);
  line-height: 1.25;
}
.hero p { margin: 0 0 var(--space-2); color: var(--muted); }
.cta { margin-top: var(--space-3); display: flex; gap: var(--space-2); flex-wrap: wrap; }

/* ---------- ボタン（.btn / 補助ボタン群） ---------- */
.btn,
.view-controls button,
.more-row button {
  appearance: none;
  border: 1px solid var(--border);
  background: #fff;
  color: var(--fg);
  padding: .55rem .9rem;
  border-radius: 8px;
  font-size: .95rem;
  cursor: pointer;
}
.btn:hover,
.view-controls button:hover,
.more-row button:hover { background: #f3f4f6; }
.btn.primary { background: var(--primary); color: var(--primary-fg); border-color: var(--primary); }
.btn.primary:hover { filter: brightness(0.95); }

/* ---------- セクション見出し ---------- */
section > h2 {
  margin: var(--space-6) 0 var(--space-3);
  font-size: 1.35rem;
  border-left: 4px solid var(--primary);
  padding-left: .6rem;
  line-height: 1.2;
}

/* ---------- 一覧・箇条書き ---------- */
section ul { padding-left: 1.2rem; }
section ul li { margin: .35rem 0; }

/* ---------- 表（スケジュール等：一般） ---------- */
section table {
  width: 100%;
  border-collapse: collapse;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}
section table th,
section table td {
  border-bottom: 1px solid var(--border);
  padding: .6rem .75rem;
  text-align: left;
}
section table thead th { background: #f8fafc; font-weight: 600; }
section table tr:last-child th,
section table tr:last-child td { border-bottom: none; }

/* ---------- サークル一覧：コントロール ---------- */
.view-controls { display: flex; flex-wrap: wrap; gap: var(--space-2); align-items: center; margin-bottom: var(--space-3); }
.view-controls span { color: var(--muted); }

/* モード切替/サブ切替の横並び（スクロール耐性あり） */
.mode-switch,
.sub-switch {
  display: flex; flex-wrap: nowrap; gap: .5rem;
  overflow-x: auto; padding: .5rem 0;
}

/* ---------- サークル一覧：カードグリッド ---------- */
.circle-list { display: grid; gap: var(--space-3); grid-template-columns: repeat(1, minmax(0, 1fr)); }
@media (min-width: 560px) { .circle-list { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (min-width: 880px) { .circle-list { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
.circle-list .card {
  /* 未使用でも既存互換のため残置 */
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  display: grid; grid-template-columns: 120px 1fr; gap: var(--space-3);
  padding: var(--space-3); align-items: start;
}
.circle-list .card img.cut { width: 100%; height: auto; border-radius: var(--radius); object-fit: cover; }
.circle-list .card .info { display: flex; flex-direction: column; gap: .35rem; }
.circle-list .card .info .name { font-size: 1.05rem; font-weight: 700; }
.circle-list .card .info .space { font-weight: 700; color: var(--primary); }
.circle-list .card .info .pn { color: var(--muted); }
.circle-list .card .info .sns { display: flex; gap: .5rem; margin-top: .25rem; }
.circle-list .card .info .sns a img { width: 20px; height: 20px; border-radius: 4px; display: block; }

/* ---------- サークル一覧：表表示（renderPlainTable用） ---------- */
#circleList table {
  width: 100%;
  border-collapse: collapse;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}
#circleList thead th { background: #f8fafc; font-weight: 600; }
#circleList th, #circleList td { border-bottom: 1px solid var(--border); padding: .6rem .75rem; text-align: left; }
#circleList tr:last-child th, #circleList tr:last-child td { border-bottom: none; }

/* ---------- Q&A（details/summary） ---------- */
details { border: 1px solid var(--border); border-radius: var(--radius); padding: .75rem 1rem; background: #fff; box-shadow: var(--shadow); }
details + details { margin-top: var(--space-3); }
details summary { cursor: pointer; font-weight: 600; }
details[open] { background: #fcfdfd; }

/* ---------- 文章ブロック ---------- */
.note { color: var(--muted); font-size: .95rem; }

/* ---------- アクセシビリティ（フォーカス） ---------- */
:focus-visible { outline: 3px solid rgba(31,111,235,.35); outline-offset: 2px; border-radius: 6px; }

/* ---------- セクション間余白 ---------- */
section { margin-bottom: var(--space-6); }

/* ---------- 印刷対応（簡易） ---------- */
@media print {
  .navbar { position: static; }
  .view-controls, .cta, .more-row { display: none !important; }
  a { text-decoration: none; color: #000; }
  section table, #circleList table { box-shadow: none; }
}

/* ================================
  サークルカード（circles-cards.js が生成）
   ================================ */
.circle-card {
  display: flex; gap: 12px; align-items: flex-start;
  border: 1px solid #ccc; padding: 12px; margin-bottom: 16px;
  border-radius: 6px; background-color: #fff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.circle-card .thumb img { display: block; max-width: 160px; height: auto; border-radius: 4px; }
.circle-card .meta { flex: 1 1 auto; }
.circle-card .name { font-weight: bold; font-size: 1.1em; margin-bottom: 4px; }
.circle-card .space { font-size: 0.95em; color: #333; margin-bottom: 2px; }
.circle-card .pn { font-size: 0.9em; color: #555; margin-bottom: 6px; }
.circle-card .sns { display: flex; gap: 8px; align-items: center; }
.circle-card .sns img { width: 20px; height: 20px; display: block; }

/* ================================
  ナビゲーション固定（テーマ差異吸収用）
   ================================ */
header.global-nav,
nav.global-nav,
nav.site-nav,
#siteNav {
  position: sticky; top: 0; z-index: 1000;
  background: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  border-bottom: 1px solid #eee;
}

/* ================================
  サークル一覧 表表示 用（スクロールしやすさ調整）
  ※ 既存の見た目維持のため、#circleList 下の仕様はそのまま残置
   ================================ */
#circleList { max-width: 1360px; margin-left: auto; margin-right: auto; padding-left: 12px; padding-right: 12px; }
#circleList table { width: auto; table-layout: fixed; border-collapse: collapse; }
#circleList th, #circleList td { border: 1px solid #ccc; padding: 6px 10px; text-align: left; word-wrap: break-word; }
#circleList thead th { background: #f8fafc; font-weight: 600; }

/* ================================
  ナビ風Pillボタン（共通化）
   ================================ */
.ui-pill {
  display: inline-flex; align-items: center; gap: .25rem;
  padding: .375rem .75rem;
  border: 1px solid var(--border);
  background: #fff; color: var(--fg);
  border-radius: 9999px;             /* カプセル */
  box-shadow: var(--shadow-sm);
  font: 600 14px/1.1 system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", sans-serif;
  letter-spacing: .01em;
  cursor: pointer; user-select: none;
  transition: background .15s ease, color .15s ease, border-color .15s ease, transform .06s ease;
}
.ui-pill:hover { background: #f3f4f6; }
.ui-pill:active { transform: translateY(1px); }
.ui-pill:focus-visible { outline: none; box-shadow: var(--shadow-sm), 0 0 0 3px rgba(31,111,235,.28); }

/* 現在選択中（濃く） */
.ui-pill--active,
.ui-pill[aria-selected="true"],
.ui-pill[aria-pressed="true"] {
  background: var(--brand);
  border-color: var(--brand);
  color: var(--brand-ink);
  font-weight: 700; /* 太字で強調 */
  box-shadow: 0 0 0 2px rgba(31,111,235,.38), var(--shadow-sm);
}
@media (prefers-color-scheme: dark) {
  .ui-pill--active,
  .ui-pill[aria-selected="true"],
  .ui-pill[aria-pressed="true"] {
    box-shadow: 0 0 0 2px rgba(31,111,235,.55), var(--shadow-sm);
  }
}

/* 汎用ユーティリティ */
.hidden { display: none !important; }  /* JS側の保険：確実に隠す */

/* ================================
  追記: 新サブボタン(#subControls) & 初期非表示/演出
  ※ 既存の見た目を変えないため、指定値は従来踏襲
   ================================ */
#viewControls {
  display: flex; flex-wrap: wrap; gap: .5rem; align-items: center;
  margin-bottom: var(--space-3);
}

/* 新サブボタンの横並び＆スクロール耐性 */
#subControls {
  display: flex; flex-wrap: nowrap; gap: .5rem; overflow-x: auto; padding: .5rem 0;
}

/* 新サブボタンの見た目（.ui-pill と同等のトーン） */
#subControls button {
  display: inline-flex; align-items: center; gap: .25rem;
  padding: .375rem .75rem;
  border: 1px solid var(--border);
  background: #fff; color: var(--fg);
  border-radius: 9999px; box-shadow: var(--shadow-sm);
  font: 600 14px/1.1 system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", sans-serif;
  letter-spacing: .01em; cursor: pointer; user-select: none;
  transition: background .15s ease, color .15s ease, border-color .15s ease, transform .06s ease;
}
#subControls button:hover { background: #f3f4f6; }
#subControls button:active { transform: translateY(1px); }
#subControls button:focus-visible { outline: none; box-shadow: var(--shadow-sm), 0 0 0 3px rgba(31,111,235,.28); }

/* アクティブ強調（複数の指定方法をサポート） */
#subControls button.is-active,
#subControls button[aria-selected="true"],
#subControls button[aria-pressed="true"],
#subControls .ui-pill--active {
  background: var(--brand);
  border-color: var(--brand);
  color: var(--brand-ink);
  font-weight: 700;
  box-shadow: 0 0 0 2px rgba(31,111,235,.38), var(--shadow-sm);
}
@media (prefers-color-scheme: dark) {
  #subControls button.is-active,
  #subControls button[aria-selected="true"],
  #subControls button[aria-pressed="true"],
  #subControls .ui-pill--active {
    box-shadow: 0 0 0 2px rgba(31,111,235,.55), var(--shadow-sm);
  }
}

/* 初期非表示の保険 */
#viewControls.is-hidden,
.sub-switch.is-hidden,
#subControls.is-hidden { display: none !important; }

/* 簡易フェードイン演出 */
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }
.fade-in { animation: fadeIn .18s ease-out; }

/* 本体 */
#loadMoreCircles {
  /* 配置 */
  display: block;                 /* 単独行にして中央寄せしやすく */
  margin: 1rem auto;              /* 中央寄せ（左右auto） */
  padding: 0.6rem 1.1rem;         /* 既存ボタンと同等の余白 */

  /* 見た目（サイトの変数に合わせる） */
  background: var(--primary);     /* 既存のブランド色 */
  color: var(--primary-fg);       /* 文字は白 */
  border: 1px solid var(--primary);
  border-radius: 8px;             /* 角丸は他ボタンと統一 */
  box-shadow: var(--shadow-sm);   /* 小さめの影（既存基準） */

  /* タイポグラフィ */
  font-size: .95rem;
  font-weight: 700;               /* アクション強調 */
  letter-spacing: .01em;

  /* 操作感 */
  cursor: pointer;
  transition: filter .15s ease, transform .06s ease, box-shadow .15s ease;
}

/* ホバー時：少し濃く */
#loadMoreCircles:hover {
  filter: brightness(0.96);
}

/* 押下時：わずかに沈み込む */
#loadMoreCircles:active {
  transform: translateY(1px);
}

/* フォーカス可視（アクセシビリティ） */
#loadMoreCircles:focus-visible {
  outline: none;
  box-shadow: var(--shadow-sm), 0 0 0 3px rgba(31,111,235,.28);
}

/* ナビの想定高さ（必要なら値を調整） */
:root { --nav-h: 56px; }


/* 本文が固定ナビに隠れないよう上に余白を確保 */
body { padding-top: var(--nav-h); }


/* ナビを常時固定表示に（前の .navbar の sticky 指定を上書き） */
.navbar {
position: fixed !important;
top: 0;
z-index: 1000; /* セクションやフライヤーより前面に */
/* 背景と境界は既存のまま（site.css 内の色に準拠） */
background: #f8fafc;
border-bottom: 1px solid var(--border);
}


/* アンカー遷移時に見出しがヘッダーに隠れないよう調整 */
/* h2 だけでなく、セクションIDへのジャンプにも効かせる */
section, section > h2, [id] { scroll-margin-top: var(--nav-h); }


/* 印刷時は固定を解除（既存の @media print と整合） */
@media print {
.navbar { position: static !important; }
body { padding-top: 0; }
}